<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .dashboard-grid {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Collapsible menu styles */
        .nav-links-collapsed {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .nav-links-expanded {
            max-height: 500px; /* Sufficiently large to show all links */
            transition: max-height 0.3s ease-in;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.inset-0{inset:0px}.bottom-4{bottom:1rem}.right-4{right:1rem}.mb-1{margin-bottom:0.25rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-6{height:1.5rem}.min-h-screen{min-height:100vh}.w-6{width:1.5rem}.w-full{width:100%}.min-w-full{min-width:100%}.max-w-md{max-width:28rem}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity:1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity:0.5}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-2{padding:0.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-10{padding-left:2.5rem;padding-right:2.5rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.py-80{padding-top:20rem;padding-bottom:20rem}.text-left{text-align:left}.text-center{text-align:center}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity:1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.last\:border-b-0:last-child{border-bottom-width:0px}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:text-gray-800:hover{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}@media (min-width: 768px){.md\:hidden{display:none}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}</style><style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.inset-0{inset:0px}.bottom-4{bottom:1rem}.right-4{right:1rem}.mb-1{margin-bottom:0.25rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-6{height:1.5rem}.min-h-screen{min-height:100vh}.w-6{width:1.5rem}.w-full{width:100%}.min-w-full{min-width:100%}.max-w-md{max-width:28rem}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-4{gap:1rem}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y > :not([hidden]) ~ :not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200 > :not([hidden]) ~ :not([hidden]){--tw-divide-opacity:1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-hidden{overflow:hidden}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-md{border-radius:0.375rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-700{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity:1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity:1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity:1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-opacity-50{--tw-bg-opacity:0.5}.p-2{padding:0.5rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-80{padding-top:20rem;padding-bottom:20rem}.text-left{text-align:left}.font-sans{font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-600{--tw-text-opacity:1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.shadow{--tw-shadow:0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.last\:border-b-0:last-child{border-bottom-width:0px}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-700:hover{--tw-bg-opacity:1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\:bg-green-700:hover{--tw-bg-opacity:1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\:text-gray-800:hover{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246 / var(--tw-ring-opacity, 1))}@media (min-width: 768px){.md\:hidden{display:none}.md\:grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}}</style></head>
<body class="bg-gray-100 font-sans">
    <div id="app" class="min-h-screen">
        <!-- Auth Section -->
        <div id="auth-section" class="flex items-center justify-center min-h-screen">
            <div class="bg-white rounded-lg shadow-xl overflow-hidden w-full max-w-md fade-in">
                <div class="bg-blue-600 py-4 px-6">
                    <h1 class="text-white text-2xl font-bold">Inventory System</h1>
                </div>
                <div class="p-6">
                    <div id="login-form" class="space-y-4">
                        <h2 class="text-xl font-semibold text-gray-800">Login</h2>
                        <div>
                            <label class="block text-gray-700 mb-1">Username</label>
                            <input id="login-username" type="text" class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-1">Password</label>
                            <input id="login-password" type="password" class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex items-center justify-between">
                            <button id="login-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Login</button>
                            <button id="show-register" class="text-blue-600 hover:underline">Register</button>
                        </div>
                    </div>

                    <div id="register-form" class="space-y-4 hidden">
                        <h2 class="text-xl font-semibold text-gray-800">Register</h2>
                        <div>
                            <label class="block text-gray-700 mb-1">Username</label>
                            <input id="register-username" type="text" class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-1">Password</label>
                            <input id="register-password" type="password" class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-1">Confirm Password</label>
                            <input id="register-confirm-password" type="password" class="w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex items-center justify-between">
                            <button id="register-btn" class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition">Register</button>
                            <button id="show-login" class="text-blue-600 hover:underline">Back to Login</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Section (hidden by default) -->
        <div id="dashboard-section" class="dashboard-grid hidden">
            <!-- Sidebar -->
            <div class="bg-gray-900 text-white p-2">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                        <img src="" class="rounded-full">
                        <div>
                            <p id="current-user" class="text-2xl">admin1</p>
                            <p class="text-gray-400 text-sm">Administrator</p>
                        </div>
                    </div>
                    <!-- Toggle Button for Navigation -->
                    <button id="nav-toggle" class="text-white focus:outline-none md:hidden">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
                <nav class="space-y-2">
                    <!-- Collapsible Navigation Links -->
                    <div id="collapsible-nav-links" class="md:nav-links-expanded nav-links-expanded">
                        <a href="#" id="dashboard-link" class="block py-1 px-5 rounded-md text-md">Dashboard</a>
                        <a href="#" id="inventory-link" class="block py-1 px-5 hover:bg-gray-700 rounded-md text-md">Inventory</a>
                        <a href="#" id="settings-link" class="block py-1 px-5 hover:bg-gray-700 rounded-md text-md bg-gray-700">Settings</a>
                    <a href="#" id="logout-link" class="block py-80 px-1hover:bg-gray-700 rounded-md">Logout</a></div>
                    
                </nav>
            </div>

            <!-- Main Content -->
            <div class="p-6">
                <h2 id="dashboard-title" class="text-2xl font-bold text-gray-800 mb-6">Account Settings</h2>
                
                <!-- Dashboard Content -->
                <div id="dashboard-content" class="space-y-6 hidden">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Total Items</h3>
                            <p id="total-items" class="text-3xl font-bold">1</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Low Stock</h3>
                            <p id="low-stock" class="text-3xl font-bold text-yellow-600">0</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow">
                            <h3 class="text-gray-500 text-sm">Out of Stock</h3>
                            <p id="out-of-stock" class="text-3xl font-bold text-red-600">0</p>
                        </div>
                    </div>
                    
                    <div class="bg-white p-4 rounded-lg shadow">
                        <h3 class="text-lg font-semibold mb-4">Recent Activity</h3>
                        <div id="activity-log" class="text-gray-600"><div class="py-2 border-b last:border-b-0">321321 (223 in stock, ₹N/A)</div></div>
                    </div>
                </div>
                
                <!-- Inventory Content -->
                <div id="inventory-content" class="space-y-6 hidden">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold">Inventory Items</h3>
                        <button id="add-item-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Add Item</button>
                    </div>
                    
                    <div id="inventory-table">
                        <table class="min-w-full bg-white rounded-lg overflow-hidden">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="py-3 px-4 text-left">Item</th>
                                    <th class="py-3 px-4 text-left">Quantity</th>
                                    <th class="py-3 px-4 text-left">Price</th> <!-- New Price Header -->
                                    <th class="py-3 px-4 text-left">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="inventory-items" class="divide-y divide-gray-200"><tr class="hover:bg-gray-50">
                    <td class="py-3 px-4">321321</td>
                    <td class="py-3 px-4 flex items-center space-x-2">
                        <button class="text-gray-600 hover:text-gray-800 font-bold text-lg quantity-btn" data-id="1753161597255" data-action="decrement">-</button>
                        <span>223</span>
                        <button class="text-gray-600 hover:text-gray-800 font-bold text-lg quantity-btn" data-id="1753161597255" data-action="increment">+</button>
                    </td>
                    <td class="py-3 px-4">₹N/A</td> <!-- Display Price -->
                    <td class="py-3 px-4 space-x-2">
                        <button class="text-blue-600 hover:underline edit-btn" data-id="1753161597255">Edit</button>
                        <button class="text-red-600 hover:underline delete-btn" data-id="1753161597255">Delete</button>
                    </td>
                </tr></tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Add Item Modal -->
                <div id="add-item-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
                    <div class="bg-white rounded-lg p-6 w-full max-w-md">
                        <h3 class="text-xl font-semibold mb-4">Add New Item</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-700 mb-1">Item Name</label>
                                <input id="item-name" type="text" class="w-full px-3 py-2 border rounded-md">
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-1">Quantity</label>
                                <input id="item-quantity" type="number" class="w-full px-3 py-2 border rounded-md">
                            </div>
                            <div>
                                <label class="block text-gray-700 mb-1">Price</label> <!-- New Price Input -->
                                <input id="item-price" type="number" step="0.01" class="w-full px-3 py-2 border rounded-md">
                            </div>
                            <div class="flex justify-end space-x-3">
                                <button id="cancel-add-item" class="px-4 py-2 border rounded-md">Cancel</button>
                                <button id="save-item-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition" data-id="1753161597255">Update</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Settings Content -->
                <div id="settings-content" class="space-y-6">
                    <h3 class="text-lg font-semibold">Account Settings</h3>
                    
                    <div class="bg-white p-4 rounded-lg shadow space-y-4">
                        <h4 class="font-medium">Change Password</h4>
                        <div>
                            <label class="block text-gray-700 mb-1">Current Password</label>
                            <input id="current-password" type="password" class="w-full px-3 py-2 border rounded-md">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-1">New Password</label>
                            <input id="new-password" type="password" class="w-full px-3 py-2 border rounded-md">
                        </div>
                        <div>
                            <label class="block text-gray-700 mb-1">Confirm New Password</label>
                            <input id="confirm-password" type="password" class="w-full px-3 py-2 border rounded-md">
                        </div>
                        <button id="change-password-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition">Change Password</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notification Toast -->
        <div id="notification-toast" class="fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-md shadow-lg fade-in hidden">
            <p id="notification-message">Logged out successfully</p>
        </div>
    </div>

    <script>
        // Database simulation (LocalStorage)
        const DB = {
            users: JSON.parse(localStorage.getItem('users')) || [{username: 'admin', password: '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'}], // Default admin with password 'password'
            inventory: JSON.parse(localStorage.getItem('inventory')) || []
        };

        // SHA-256 hashing function
        async function hashPassword(password) {
            const encoder = new TextEncoder();
            const data = encoder.encode(password);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
            return hashHex;
        }

        // Save all data to localStorage
        function saveData() {
            localStorage.setItem('users', JSON.stringify(DB.users));
            localStorage.setItem('inventory', JSON.stringify(DB.inventory));
        }

        // UI State
        const currentUser = {
            username: null,
            authenticated: false
        };

        // DOM Elements
        const authSection = document.getElementById('auth-section');
        const dashboardSection = document.getElementById('dashboard-section');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const showRegisterBtn = document.getElementById('show-register');
        const showLoginBtn = document.getElementById('show-login');
        const loginBtn = document.getElementById('login-btn');
        const registerBtn = document.getElementById('register-btn');
        const logoutBtn = document.getElementById('logout-link');
        const dashboardLink = document.getElementById('dashboard-link');
        const inventoryLink = document.getElementById('inventory-link');
        const settingsLink = document.getElementById('settings-link');
        const dashboardContent = document.getElementById('dashboard-content');
        const inventoryContent = document.getElementById('inventory-content');
        const settingsContent = document.getElementById('settings-content');
        const notificationToast = document.getElementById('notification-toast');
        const notificationMessage = document.getElementById('notification-message');

        // Forms
        const loginUsername = document.getElementById('login-username');
        const loginPassword = document.getElementById('login-password');
        const registerUsername = document.getElementById('register-username');
        const registerPassword = document.getElementById('register-password');
        const registerConfirmPassword = document.getElementById('register-confirm-password');
        const currentPassword = document.getElementById('current-password');
        const newPassword = document.getElementById('new-password');
        const confirmPassword = document.getElementById('confirm-password');
        
        // Interactive elements
        const addItemBtn = document.getElementById('add-item-btn');
        const inventoryTable = document.getElementById('inventory-items');
        const addItemModal = document.getElementById('add-item-modal');
        const cancelAddItem = document.getElementById('cancel-add-item');
        const saveItemBtn = document.getElementById('save-item-btn');
        const itemNameInput = document.getElementById('item-name');
        const itemQuantityInput = document.getElementById('item-quantity');
        const itemPriceInput = document.getElementById('item-price'); // New Price Input
        const changePasswordBtn = document.getElementById('change-password-btn');
        
        // Dashboard widgets
        const totalItemsWidget = document.getElementById('total-items');
        const lowStockWidget = document.getElementById('low-stock');
        const outOfStockWidget = document.getElementById('out-of-stock');
        const activityLog = document.getElementById('activity-log');
        const currentUserElement = document.getElementById('current-user');

        // Collapsible navigation elements
        const navToggleBtn = document.getElementById('nav-toggle');
        const collapsibleNavLinks = document.getElementById('collapsible-nav-links');

        // Event Listeners
        showRegisterBtn.addEventListener('click', () => {
            loginForm.classList.add('hidden');
            registerForm.classList.remove('hidden');
        });

        showLoginBtn.addEventListener('click', () => {
            registerForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
        });

        loginBtn.addEventListener('click', handleLogin);
        registerBtn.addEventListener('click', handleRegister);
        logoutBtn.addEventListener('click', handleLogout);
        dashboardLink.addEventListener('click', showDashboard);
        inventoryLink.addEventListener('click', showInventory);
        settingsLink.addEventListener('click', showSettings);
        addItemBtn.addEventListener('click', () => addItemModal.classList.remove('hidden'));
        cancelAddItem.addEventListener('click', () => addItemModal.classList.add('hidden'));
        saveItemBtn.addEventListener('click', handleAddItem);
        changePasswordBtn.addEventListener('click', handleChangePassword);

        // New: Toggle navigation on small screens
        navToggleBtn.addEventListener('click', () => {
            collapsibleNavLinks.classList.toggle('nav-links-collapsed');
            collapsibleNavLinks.classList.toggle('nav-links-expanded');
        });

        // Functions
        function showNotification(message, isSuccess = true) {
            notificationMessage.textContent = message;
            notificationToast.className = isSuccess ? 
                'fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-md shadow-lg fade-in' : 
                'fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 rounded-md shadow-lg fade-in';
            
            setTimeout(() => {
                notificationToast.classList.add('hidden');
            }, 3000);
        }

        async function handleLogin() {
            const username = loginUsername.value.trim();
            const password = loginPassword.value.trim();
            
            if (!username || !password) {
                showNotification('Please fill in all fields', false);
                return;
            }
            
            try {
                const hashedPassword = await hashPassword(password);
                const user = DB.users.find(u => u.username === username && u.password === hashedPassword);
                
                if (user) {
                    currentUser.username = username;
                    currentUser.authenticated = true;
                    
                    authSection.classList.add('hidden');
                    dashboardSection.classList.remove('hidden');
                    currentUserElement.textContent = username;
                    
                    showDashboard();
                    updateDashboardStats();
                    renderInventoryTable();
                    
                    showNotification('Login successful');
                } else {
                    showNotification('Invalid username or password', false);
                }
            } catch (error) {
                showNotification('An error occurred during login', false);
            }
        }

        async function handleRegister() {
            const username = registerUsername.value.trim();
            const password = registerPassword.value.trim();
            const confirmPass = registerConfirmPassword.value.trim();
            
            if (!username || !password || !confirmPass) {
                showNotification('Please fill in all fields', false);
                return;
            }
            
            if (password !== confirmPass) {
                showNotification('Passwords do not match', false);
                return;
            }
            
            if (DB.users.some(u => u.username === username)) {
                showNotification('Username already exists', false);
                return;
            }
            
            try {
                const hashedPassword = await hashPassword(password);
                DB.users.push({ username, password: hashedPassword });
                saveData();
                
                registerUsername.value = '';
                registerPassword.value = '';
                registerConfirmPassword.value = '';
                
                registerForm.classList.add('hidden');
                loginForm.classList.remove('hidden');
                
                showNotification('Registration successful. Please login.');
            } catch (error) {
                showNotification('An error occurred during registration', false);
            }
        }

        function handleLogout() {
            currentUser.username = null;
            currentUser.authenticated = false;
            
            dashboardSection.classList.add('hidden');
            authSection.classList.remove('hidden');
            loginUsername.value = '';
            loginPassword.value = '';
            
            showNotification('Logged out successfully');
        }

        function showDashboard() {
            dashboardContent.classList.remove('hidden');
            inventoryContent.classList.add('hidden');
            settingsContent.classList.add('hidden');
            document.getElementById('dashboard-title').textContent = 'Dashboard Overview';
            updateDashboardStats();
            // Highlight dashboard link
            dashboardLink.classList.add('bg-gray-700');
            inventoryLink.classList.remove('bg-gray-700');
            settingsLink.classList.remove('bg-gray-700');
            // Collapse nav on small screens after selection
            if (window.innerWidth < 768) {
                collapsibleNavLinks.classList.remove('nav-links-expanded');
                collapsibleNavLinks.classList.add('nav-links-collapsed');
            }
        }

        function showInventory() {
            dashboardContent.classList.add('hidden');
            inventoryContent.classList.remove('hidden');
            settingsContent.classList.add('hidden');
            document.getElementById('dashboard-title').textContent = 'Inventory Management';
            renderInventoryTable();
            // Highlight inventory link
            inventoryLink.classList.add('bg-gray-700');
            dashboardLink.classList.remove('bg-gray-700');
            settingsLink.classList.remove('bg-gray-700');
            // Collapse nav on small screens after selection
            if (window.innerWidth < 768) {
                collapsibleNavLinks.classList.remove('nav-links-expanded');
                collapsibleNavLinks.classList.add('nav-links-collapsed');
            }
        }

        function showSettings() {
            dashboardContent.classList.add('hidden');
            inventoryContent.classList.add('hidden');
            settingsContent.classList.remove('hidden');
            document.getElementById('dashboard-title').textContent = 'Account Settings';
            // Highlight settings link
            settingsLink.classList.add('bg-gray-700');
            dashboardLink.classList.remove('bg-gray-700');
            inventoryLink.classList.remove('bg-gray-700');
            // Collapse nav on small screens after selection
            if (window.innerWidth < 768) {
                collapsibleNavLinks.classList.remove('nav-links-expanded');
                collapsibleNavLinks.classList.add('nav-links-collapsed');
            }
        }

        function updateDashboardStats() {
            const total = DB.inventory.length;
            const lowStock = DB.inventory.filter(item => item.quantity > 0 && item.quantity <= 5).length;
            const outOfStock = DB.inventory.filter(item => item.quantity === 0).length;
            
            totalItemsWidget.textContent = total;
            lowStockWidget.textContent = lowStock;
            outOfStockWidget.textContent = outOfStock;
            
            // Update activity log
            if (DB.inventory.length > 0) {
                activityLog.innerHTML = '';
                // Sort by ID (most recent first) to show latest activity
                const recentItems = [...DB.inventory].sort((a, b) => b.id - a.id).slice(0, 3); 
                recentItems.forEach(item => {
                    const activityItem = document.createElement('div');
                    activityItem.className = 'py-2 border-b last:border-b-0';
                    activityItem.textContent = `${item.name} (${item.quantity} in stock, ₹${item.price ? item.price.toFixed(2) : 'N/A'})`;
                    activityLog.appendChild(activityItem);
                });
            } else {
                activityLog.innerHTML = '<p>No recent activity</p>'; // Ensure message if no items
            }
        }

        function renderInventoryTable() {
            inventoryTable.innerHTML = '';
            
            if (DB.inventory.length === 0) {
                inventoryTable.innerHTML = `
                    <tr>
                        <td colspan="4" class="py-4 px-4 text-center text-gray-500">No items found</td>
                    </tr>
                `;
                return;
            }
            
            DB.inventory.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                row.innerHTML = `
                    <td class="py-3 px-4">${item.name}</td>
                    <td class="py-3 px-4 flex items-center space-x-2">
                        <button class="text-gray-600 hover:text-gray-800 font-bold text-lg quantity-btn" data-id="${item.id}" data-action="decrement">-</button>
                        <span>${item.quantity}</span>
                        <button class="text-gray-600 hover:text-gray-800 font-bold text-lg quantity-btn" data-id="${item.id}" data-action="increment">+</button>
                    </td>
                    <td class="py-3 px-4">₹${item.price ? item.price.toFixed(2) : 'N/A'}</td> <!-- Display Price -->
                    <td class="py-3 px-4 space-x-2">
                        <button class="text-blue-600 hover:underline edit-btn" data-id="${item.id}">Edit</button>
                        <button class="text-red-600 hover:underline delete-btn" data-id="${item.id}">Delete</button>
                    </td>
                `;
                inventoryTable.appendChild(row);
            });
            
            // Add event listeners for edit, delete, and quantity buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', handleEditItem);
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', handleDeleteItem);
            });

            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', handleQuantityChange);
            });
        }

        function handleQuantityChange(e) {
            const itemId = parseInt(e.target.dataset.id);
            const action = e.target.dataset.action;
            const item = DB.inventory.find(i => i.id === itemId);

            if (!item) return;

            if (action === 'increment') {
                item.quantity++;
                showNotification(`Quantity of ${item.name} increased.`);
            } else if (action === 'decrement') {
                if (item.quantity > 0) {
                    item.quantity--;
                    showNotification(`Quantity of ${item.name} decreased.`);
                } else {
                    showNotification(`${item.name} is already at 0 quantity.`, false);
                }
            }
            saveData();
            renderInventoryTable();
            updateDashboardStats();
        }

        function handleAddItem() {
            const name = itemNameInput.value.trim();
            const quantity = parseInt(itemQuantityInput.value.trim()) || 0;
            const price = parseFloat(itemPriceInput.value.trim()); // Get price
            
            if (!name || isNaN(quantity) || isNaN(price) || price < 0) { // Validate price
                showNotification('Please enter valid item details (Name, Quantity, and a non-negative Price)', false);
                return;
            }
            
            const newItem = {
                id: Date.now(),
                name,
                quantity,
                price: parseFloat(price.toFixed(2)) // Store price with 2 decimal places
            };
            
            DB.inventory.push(newItem);
            saveData();
            
            itemNameInput.value = '';
            itemQuantityInput.value = '';
            itemPriceInput.value = ''; // Clear price input
            addItemModal.classList.add('hidden');
            
            renderInventoryTable();
            updateDashboardStats();
            showNotification('Item added successfully');
        }

        function handleEditItem(e) {
            const itemId = parseInt(e.target.dataset.id);
            const item = DB.inventory.find(i => i.id === itemId);
            
            if (!item) return;
            
            itemNameInput.value = item.name;
            itemQuantityInput.value = item.quantity;
            itemPriceInput.value = item.price; // Populate price for editing
            saveItemBtn.textContent = 'Update';
            saveItemBtn.dataset.id = item.id;
            
            addItemModal.classList.remove('hidden');
            
            // Change handler to update instead of add
            saveItemBtn.removeEventListener('click', handleAddItem);
            saveItemBtn.addEventListener('click', handleUpdateItem);
        }

        function handleUpdateItem() {
            const itemId = parseInt(saveItemBtn.dataset.id);
            const item = DB.inventory.find(i => i.id === itemId);
            
            if (!item) return;
            
            const name = itemNameInput.value.trim();
            const quantity = parseInt(itemQuantityInput.value.trim()) || 0;
            const price = parseFloat(itemPriceInput.value.trim()); // Get updated price
            
            if (!name || isNaN(quantity) || isNaN(price) || price < 0) { // Validate updated price
                showNotification('Please enter valid item details (Name, Quantity, and a non-negative Price)', false);
                return;
            }
            
            item.name = name;
            item.quantity = quantity;
            item.price = parseFloat(price.toFixed(2)); // Update price with 2 decimal places
            saveData();
            
            itemNameInput.value = '';
            itemQuantityInput.value = '';
            itemPriceInput.value = ''; // Clear price input
            addItemModal.classList.add('hidden');
            
            renderInventoryTable();
            updateDashboardStats();
            showNotification('Item updated successfully');
            
            // Reset button to add mode
            saveItemBtn.textContent = 'Save';
            delete saveItemBtn.dataset.id;
            saveItemBtn.removeEventListener('click', handleUpdateItem);
            saveItemBtn.addEventListener('click', handleAddItem);
        }

        function handleDeleteItem(e) {
            if (!confirm('Are you sure you want to delete this item?')) return;
            
            const itemId = parseInt(e.target.dataset.id);
            const itemIndex = DB.inventory.findIndex(i => i.id === itemId);
            
            if (itemIndex === -1) return;
            
            DB.inventory.splice(itemIndex, 1);
            saveData();
            
            renderInventoryTable();
            updateDashboardStats();
            showNotification('Item deleted successfully');
        }

        async function handleChangePassword() {
            const currPass = currentPassword.value.trim();
            const newPass = newPassword.value.trim();
            const confirmNewPass = confirmPassword.value.trim();
            
            if (!currPass || !newPass || !confirmNewPass) {
                showNotification('Please fill in all fields', false);
                return;
            }
            
            if (newPass !== confirmNewPass) {
                showNotification('New passwords do not match', false);
                return;
            }
            
            try {
                const hashedCurrent = await hashPassword(currPass);
                const user = DB.users.find(u => u.username === currentUser.username && u.password === hashedCurrent);
                
                if (!user) {
                    showNotification('Current password is incorrect', false);
                    return;
                }
                
                user.password = await hashPassword(newPass);
                saveData();
                
                currentPassword.value = '';
                newPassword.value = '';
                confirmPassword.value = '';
                
                showNotification('Password changed successfully');
            } catch (error) {
                showNotification('An error occurred while changing password', false);
            }
        }

        // Initialize
        saveData(); // Ensure default admin is saved if it's a fresh start
        // Set initial active link
        showDashboard();

        // Ensure navigation is expanded on larger screens by default
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                collapsibleNavLinks.classList.remove('nav-links-collapsed');
                collapsibleNavLinks.classList.add('nav-links-expanded');
            } else {
                collapsibleNavLinks.classList.remove('nav-links-expanded');
                collapsibleNavLinks.classList.add('nav-links-collapsed');
            }
        });
        // Initial check on load
        if (window.innerWidth >= 768) {
            collapsibleNavLinks.classList.remove('nav-links-collapsed');
            collapsibleNavLinks.classList.add('nav-links-expanded');
        }
    </script>


</body></html>